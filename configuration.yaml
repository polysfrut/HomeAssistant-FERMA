# Home Assistant Configuration
# Минимальная базовая конфигурация

default_config:

homeassistant:
  packages: !include_dir_named packages

automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

input_number:
  min_humidity:
    name: Минимальная влажность Брудер 2
    min: 30
    max: 60
    step: 1
    unit_of_measurement: "%"
    mode: slider

  max_humidity:
    name: Максимальная влажность Брудер 2
    min: 40
    max: 80
    step: 1
    unit_of_measurement: "%"
    mode: slider

  humidity_delta:
    name: Разница влажности (max-min) Брудер 2
    min: 1
    max: 30
    step: 1
    unit_of_measurement: "%"
    mode: slider

modbus:
  - name: WS14
    type: tcp
    host: 192.168.88.47
    port: 4196
    delay: 10
    timeout: 3
    # ======================================================================
    # WS14 - 30-канальный контроллер (30DI-30RO)
    # IP: 192.168.88.47
    # Port: 4196
    # Protocol: Modbus TCP to RTU
    # 
    # Распределение реле:
    #   Реле 1-15  → Брудер 1
    #   Реле 16-30 → Брудер 4
    # ======================================================================
    
    # Реле (30 каналов) - Coils (0x адреса, начинаются с 1)
    switches:
      # ======================================================================
      # БРУДЕР 1 - Реле 1-15
      # ======================================================================
      - name: "Брудер_1_Реле_1"
        address: 1
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_2"
        address: 2
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_3"
        address: 3
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_4"
        address: 4
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_5"
        address: 5
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_6"
        address: 6
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_7"
        address: 7
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_8"
        address: 8
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_9"
        address: 9
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_10"
        address: 10
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_11"
        address: 11
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_12"
        address: 12
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_13"
        address: 13
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_14"
        address: 14
        write_type: coil
        slave: 1
      - name: "Брудер_1_Реле_15"
        address: 15
        write_type: coil
        slave: 1
      
      # ======================================================================
      # БРУДЕР 4 - Реле 16-30
      # ======================================================================
      - name: "Брудер_4_Реле_16"
        address: 16
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_17"
        address: 17
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_18"
        address: 18
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_19"
        address: 19
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_20"
        address: 20
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_21"
        address: 21
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_22"
        address: 22
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_23"
        address: 23
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_24"
        address: 24
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_25"
        address: 25
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_26"
        address: 26
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_27"
        address: 27
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_28"
        address: 28
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_29"
        address: 29
        write_type: coil
        slave: 1
      - name: "Брудер_4_Реле_30"
        address: 30
        write_type: coil
        slave: 1
    
    # Цифровые входы (30 каналов) - Discrete Inputs (1x адреса, начинаются с 1)
    # Распределение входов:
    #   Входы 1-15  → Брудер 1
    #   Входы 16-30 → Брудер 4
    binary_sensors:
      # ======================================================================
      # БРУДЕР 1 - Входы 1-15
      # ======================================================================
      - name: "Брудер_1_Вход_1"
        address: 1
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_2"
        address: 2
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_3"
        address: 3
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_4"
        address: 4
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_5"
        address: 5
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_6"
        address: 6
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_7"
        address: 7
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_8"
        address: 8
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_9"
        address: 9
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_10"
        address: 10
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_11"
        address: 11
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_12"
        address: 12
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_13"
        address: 13
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_14"
        address: 14
        input_type: discrete
        slave: 1
      - name: "Брудер_1_Вход_15"
        address: 15
        input_type: discrete
        slave: 1
      
      # ======================================================================
      # БРУДЕР 4 - Входы 16-30
      # ======================================================================
      - name: "Брудер_4_Вход_16"
        address: 16
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_17"
        address: 17
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_18"
        address: 18
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_19"
        address: 19
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_20"
        address: 20
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_21"
        address: 21
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_22"
        address: 22
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_23"
        address: 23
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_24"
        address: 24
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_25"
        address: 25
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_26"
        address: 26
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_27"
        address: 27
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_28"
        address: 28
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_29"
        address: 29
        input_type: discrete
        slave: 1
      - name: "Брудер_4_Вход_30"
        address: 30
        input_type: discrete
        slave: 1
